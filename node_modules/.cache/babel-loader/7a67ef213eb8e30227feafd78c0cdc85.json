{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Sam/Downloads/QKart-Frontend-V2-main/QKart_Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sam/Downloads/QKart-Frontend-V2-main/QKart_Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Sam/Downloads/QKart-Frontend-V2-main/QKart_Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react-hooks/exhaustive-deps */import{Search,SentimentDissatisfied}from\"@mui/icons-material\";import{CircularProgress,Grid,InputAdornment,TextField}from\"@mui/material\";import{Box}from\"@mui/system\";import axios from\"axios\";import{useSnackbar}from\"notistack\";import React,{useEffect,useState}from\"react\";import{config}from\"../App\";import Footer from\"./Footer\";import Header from\"./Header\";import\"./Products.css\";import ProductCard from\"./ProductCard\";import Cart,{generateCartItemsFrom}from\"./Cart\";// Definition of Data Structures used\n/**\n * @typedef {Object} Product - Data on product available to buy\n * \n * @property {string} name - The name or title of the product\n * @property {string} category - The category that the product belongs to\n * @property {number} cost - The price to buy the product\n * @property {number} rating - The aggregate rating of the product (integer out of five)\n * @property {string} image - Contains URL for the product image\n * @property {string} _id - Unique ID for the product\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Products=function Products(){var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productData=_useState2[0],updateProduct=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFetching=_useState4[0],updateFecthed=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),productNotFound=_useState6[0],updateProductNotFound=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),timerId=_useState8[0],udpateTimerId=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),userLoggedIn=_useState10[0],updateUserLoggedIn=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),cartData=_useState12[0],updateCartData=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),userCartItems=_useState14[0],updateUserCartItems=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),userToken=_useState16[0],updateUserToken=_useState16[1];// TODO: CRIO_TASK_MODULE_PRODUCTS - Fetch products data and store it\n/**\n   * Make API call to get the products list and store it to display the products\n   *\n   * @returns { Array.<Product> }\n   *      Array of objects with complete data on all available products\n   *\n   * API endpoint - \"GET /products\"\n   *\n   * Example for successful response from backend:\n   * HTTP 200\n   * [\n   *      {\n   *          \"name\": \"iPhone XR\",\n   *          \"category\": \"Phones\",\n   *          \"cost\": 100,\n   *          \"rating\": 4,\n   *          \"image\": \"https://i.imgur.com/lulqWzW.jpg\",\n   *          \"_id\": \"v4sLtEcMpzabRyfx\"\n   *      },\n   *      {\n   *          \"name\": \"Basketball\",\n   *          \"category\": \"Sports\",\n   *          \"cost\": 100,\n   *          \"rating\": 5,\n   *          \"image\": \"https://i.imgur.com/lulqWzW.jpg\",\n   *          \"_id\": \"upLK9JbQ4rMhTwt4\"\n   *      }\n   * ]\n   *\n   * Example for failed response from backend:\n   * HTTP 500\n   * {\n   *      \"success\": false,\n   *      \"message\": \"Something went wrong. Check the backend console for more details\"\n   * }\n   */var performAPICall=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,product;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;updateFecthed(true);url=config.endpoint;_context.next=5;return axios.get(\"\".concat(url,\"/products\"));case 5:product=_context.sent;updateProduct(product.data);updateFecthed(false);return _context.abrupt(\"return\",product.data);case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function performAPICall(){return _ref.apply(this,arguments);};}();// TODO: CRIO_TASK_MODULE_PRODUCTS - Implement search logic\n/**\n   * Definition for search handler\n   * This is the function that is called on adding new search keys\n   *\n   * @param {string} text\n   *    Text user types in the search bar. To filter the displayed products based on this text.\n   *\n   * @returns { Array.<Product> }\n   *      Array of objects with complete data on filtered set of products\n   *\n   * API endpoint - \"GET /products/search?value=<search-query>\"\n   *\n   */var performSearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(text){var url,product;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;// updateProductNotFound(false)\nurl=config.endpoint;_context2.next=4;return axios.get(\"\".concat(url,\"/products/search?value=\").concat(text)).catch(function(e){updateProductNotFound(true);});case 4:product=_context2.sent;if(product.data){updateProductNotFound(false);updateProduct(product.data);}_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0.message);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));return function performSearch(_x){return _ref2.apply(this,arguments);};}();// TODO: CRIO_TASK_MODULE_PRODUCTS - Optimise API calls with debounce search implementation\n/**\n   * Definition for debounce handler\n   * With debounce, this is the function to be called whenever the user types text in the searchbar field\n   *\n   * @param {{ target: { value: string } }} event\n   *    JS event object emitted from the search input field\n   *\n   * @param {NodeJS.Timeout} debounceTimeout\n   *    Timer id set for the previous debounce call\n   *\n   */var debounceSearch=function debounceSearch(event,debounceTimeout){clearTimeout(debounceTimeout);// wait for 500 ms and make a call\n// 1st request\nvar timerId=setTimeout(function(){return performSearch(event);},500);udpateTimerId(timerId);};useEffect(function(){function onLoad(){return _onLoad.apply(this,arguments);}function _onLoad(){_onLoad=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var product,user,token,cartItems,_cartData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return performAPICall();case 2:product=_context3.sent;user=localStorage.getItem('username');if(user){updateUserLoggedIn(true);}token=localStorage.getItem('token');if(!token){_context3.next=16;break;}updateUserToken(token);_context3.next=10;return fetchCart(token);case 10:cartItems=_context3.sent;//console.log()\nupdateUserCartItems(cartItems);// Array of objects with productId and quantity of products in cart\n_context3.next=14;return generateCartItemsFrom(cartItems,product);case 14:_cartData=_context3.sent;updateCartData(_cartData);case 16:case\"end\":return _context3.stop();}},_callee3);}));return _onLoad.apply(this,arguments);}onLoad();},[]);/**\n   * Perform the API call to fetch the user's cart and return the response\n   *\n   * @param {string} token - Authentication token returned on login\n   *\n   * @returns { Array.<{ productId: string, qty: number }> | null }\n   *    The response JSON object\n   *\n   * Example for successful response from backend:\n   * HTTP 200\n   * [\n   *      {\n   *          \"productId\": \"KCRwjF7lN97HnEaY\",\n   *          \"qty\": 3\n   *      },\n   *      {\n   *          \"productId\": \"BW0jAAeDJmlZCF8i\",\n   *          \"qty\": 1\n   *      }\n   * ]\n   *\n   * Example for failed response from backend:\n   * HTTP 401\n   * {\n   *      \"success\": false,\n   *      \"message\": \"Protected route, Oauth2 Bearer token not found\"\n   * }\n   */var fetchCart=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(token){var url,cartDatas;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(token){_context4.next=2;break;}return _context4.abrupt(\"return\");case 2:_context4.prev=2;// TODO: CRIO_TASK_MODULE_CART - Pass Bearer token inside \"Authorization\" header to get data from \"GET /cart\" API and return the response data\nurl=config.endpoint+'/cart';_context4.next=6;return axios.get(url,{headers:{Authorization:\"Bearer \".concat(token)}});case 6:cartDatas=_context4.sent;return _context4.abrupt(\"return\",cartDatas.data);case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](2);if(_context4.t0.response&&_context4.t0.response.status===400){enqueueSnackbar(_context4.t0.response.data.message,{variant:\"error\"});}else{enqueueSnackbar(\"Could not fetch cart details. Check that the backend is running, reachable and returns valid JSON.\",{variant:\"error\"});}return _context4.abrupt(\"return\",null);case 14:case\"end\":return _context4.stop();}},_callee4,null,[[2,10]]);}));return function fetchCart(_x2){return _ref3.apply(this,arguments);};}();// TODO: CRIO_TASK_MODULE_CART - Return if a product already exists in the cart\n/**\n * Return if a product already is present in the cart\n *\n * @param { Array.<{ productId: String, quantity: Number }> } items\n *    Array of objects with productId and quantity of products in cart\n * @param { String } productId\n *    Id of a product to be checked\n *\n * @returns { Boolean }\n *    Whether a product of given \"productId\" exists in the \"items\" array\n *\n */var isItemInCart=function isItemInCart(items,productId){// items is whole data array\nfor(var i=0;i<items.length;i++){// console.log(items[i])\nif(items[i]['_id']===productId){enqueueSnackbar('Item already in cart. Use the cart sidebar to update quantity or remove item.',{variant:\"warning\"});return true;}}return false;};/**\n * Perform the API call to add or update items in the user's cart and update local cart data to display the latest cart\n *\n * @param {string} token\n *    Authentication token returned on login\n * @param { Array.<{ productId: String, quantity: Number }> } items\n *    Array of objects with productId and quantity of products in cart\n * @param { Array.<Product> } products\n *    Array of objects with complete data on all available products\n * @param {string} productId\n *    ID of the product that is to be added or updated in cart\n * @param {number} qty\n *    How many of the product should be in the cart\n * @param {boolean} options\n *    If this function was triggered from the product card's \"Add to Cart\" button\n *\n * Example for successful response from backend:\n * HTTP 200 - Updated list of cart items\n * [\n *      {\n *          \"productId\": \"KCRwjF7lN97HnEaY\",\n *          \"qty\": 3\n *      },\n *      {\n *          \"productId\": \"BW0jAAeDJmlZCF8i\",\n *          \"qty\": 1\n *      }\n * ]\n *\n * Example for failed response from backend:\n * HTTP 404 - On invalid productId\n * {\n *      \"success\": false,\n *      \"message\": \"Product doesn't exist\"\n * }\n */var addToCart=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(token,items,products,productId,qty){var options,url,res,_cartData2,index,i,_url,_res,_cartData3,_args5=arguments;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:options=_args5.length>5&&_args5[5]!==undefined?_args5[5]:{preventDuplicate:false};if(!(options.preventDuplicate===true)){_context5.next=18;break;}_context5.prev=2;url=config.endpoint+'/cart';_context5.next=6;return axios.post(url,{\"productId\":productId,\"qty\":qty},{headers:{Authorization:\"Bearer \".concat(token)}});case 6:res=_context5.sent;_context5.next=9;return generateCartItemsFrom(res.data,products);case 9:_cartData2=_context5.sent;updateCartData(_cartData2);_context5.next=16;break;case 13:_context5.prev=13;_context5.t0=_context5[\"catch\"](2);console.log(_context5.t0);case 16:_context5.next=28;break;case 18:// udpate only quantity\n// items.qty++\nfor(i=0;i<items.length;i++){if(items[i]['productId']===productId){index=i;}}if(options.preventDuplicate==='handleAdd'){items[index]['qty']++;}else{items[index]['qty']--;}//  udpate ite4ms\n_url=config.endpoint+'/cart';_context5.next=23;return axios.post(_url,{\"productId\":productId,\"qty\":items[index][\"qty\"]},{headers:{Authorization:\"Bearer \".concat(token)}});case 23:_res=_context5.sent;_context5.next=26;return generateCartItemsFrom(_res.data,products);case 26:_cartData3=_context5.sent;updateCartData(_cartData3);case 28:case\"end\":return _context5.stop();}},_callee5,null,[[2,13]]);}));return function addToCart(_x3,_x4,_x5,_x6,_x7){return _ref4.apply(this,arguments);};}();var addItems=function addItems(e){if(!userLoggedIn){enqueueSnackbar(\"Login to add an item to the Cart\",{variant:\"warning\"});}else{var result=isItemInCart(cartData,e.target.value);if(!result){addToCart(userToken,userCartItems,productData,e.target.value,1,{preventDuplicate:true});}else{enqueueSnackbar('Item already in cart. Use the cart sidebar to update quantity or remove item.',{variant:\"warning\"});}}};var onButtonClick=function onButtonClick(id,handle){console.log(\"Button Click\");console.log(id,handle);// token, items,products,productId,qty,options = { preventDuplicate: false }\naddToCart(userToken,userCartItems,productData,id,null,{preventDuplicate:handle});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{hasHiddenAuthButtons:false,children:/*#__PURE__*/_jsx(TextField,{className:\"search-desktop\",size:\"small\",onChange:function onChange(e){debounceSearch(e.target.value,timerId);},InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(Search,{color:\"primary\"})})},placeholder:\"Search for items/categories\",name:\"search\"})}),/*#__PURE__*/_jsx(TextField,{className:\"search-mobile\",size:\"small\",fullWidth:true,onChange:function onChange(e){debounceSearch(e.target.value,timerId);},InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(Search,{color:\"primary\"})})},placeholder:\"Search for items/categories\",name:\"search\"}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"center\",children:/*#__PURE__*/_jsx(Grid,{item:true,className:\"product-grid\",children:/*#__PURE__*/_jsx(Box,{className:\"hero\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"hero-heading\",children:[\"India\\u2019s \",/*#__PURE__*/_jsx(\"span\",{className:\"hero-highlight\",children:\"FASTEST DELIVERY\"}),\" \",\"to your door step\"]})})})}),isFetching?/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Loading Products\"})]}):!productNotFound?/*#__PURE__*/_jsx(_Fragment,{children:!userLoggedIn?/*#__PURE__*/_jsx(Grid,{container:true,children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:{xs:2,md:3,lg:1},children:productData.map(function(x){return/*#__PURE__*/_jsx(Grid,{item:true,lg:3,md:6,sm:6,xs:6,mt:2,mb:2,children:/*#__PURE__*/_jsx(ProductCard,{product:x,handleAddToCart:function handleAddToCart(e){addItems(e);}})},x['_id']);})})}):/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{container:true,spacing:{xs:2,md:3,lg:1},md:9,children:productData.map(function(x){return/*#__PURE__*/_jsx(Grid,{item:true,lg:4,md:4,sm:6,xs:6,mt:2,mb:2,children:/*#__PURE__*/_jsx(ProductCard,{product:x,handleAddToCart:function handleAddToCart(e){addItems(e);}})},x['_id']);})}),/*#__PURE__*/_jsx(Grid,{md:3,sm:12,xs:12,sx:{backgroundColor:'#E9F5E1'},children:/*#__PURE__*/_jsx(Cart,{product:productData,items:cartData,handleQuantity:onButtonClick})})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(SentimentDissatisfied,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"No products found\"})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Products;","map":{"version":3,"names":["Search","SentimentDissatisfied","CircularProgress","Grid","InputAdornment","TextField","Box","axios","useSnackbar","React","useEffect","useState","config","Footer","Header","ProductCard","Cart","generateCartItemsFrom","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Products","_useSnackbar","enqueueSnackbar","_useState","_useState2","_slicedToArray","productData","updateProduct","_useState3","_useState4","isFetching","updateFecthed","_useState5","_useState6","productNotFound","updateProductNotFound","_useState7","_useState8","timerId","udpateTimerId","_useState9","_useState10","userLoggedIn","updateUserLoggedIn","_useState11","_useState12","cartData","updateCartData","_useState13","_useState14","userCartItems","updateUserCartItems","_useState15","_useState16","userToken","updateUserToken","performAPICall","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","product","wrap","_callee$","_context","prev","next","endpoint","get","concat","sent","data","abrupt","t0","console","log","message","stop","apply","arguments","performSearch","_ref2","_callee2","text","_callee2$","_context2","catch","e","_x","debounceSearch","event","debounceTimeout","clearTimeout","setTimeout","onLoad","_onLoad","_callee3","user","token","cartItems","_cartData","_callee3$","_context3","localStorage","getItem","fetchCart","_ref3","_callee4","cartDatas","_callee4$","_context4","headers","Authorization","response","status","variant","_x2","isItemInCart","items","productId","i","length","addToCart","_ref4","_callee5","products","qty","options","res","_cartData2","index","_url","_res","_cartData3","_args5","_callee5$","_context5","undefined","preventDuplicate","post","_x3","_x4","_x5","_x6","_x7","addItems","result","target","value","onButtonClick","id","handle","children","hasHiddenAuthButtons","className","size","onChange","InputProps","endAdornment","position","color","placeholder","name","fullWidth","container","justifyContent","item","spacing","xs","md","lg","map","x","sm","mt","mb","handleAddToCart","sx","backgroundColor","handleQuantity"],"sources":["C:/Users/Sam/Downloads/QKart-Frontend-V2-main/QKart_Frontend/src/components/Products.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { Search, SentimentDissatisfied } from \"@mui/icons-material\";\nimport {\n  CircularProgress,\n  Grid,\n  InputAdornment,\n  TextField,\n} from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport React, { useEffect, useState } from \"react\";\nimport { config } from \"../App\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport \"./Products.css\";\nimport ProductCard from \"./ProductCard\";\nimport Cart,{generateCartItemsFrom} from \"./Cart\";\n\n// Definition of Data Structures used\n/**\n * @typedef {Object} Product - Data on product available to buy\n * \n * @property {string} name - The name or title of the product\n * @property {string} category - The category that the product belongs to\n * @property {number} cost - The price to buy the product\n * @property {number} rating - The aggregate rating of the product (integer out of five)\n * @property {string} image - Contains URL for the product image\n * @property {string} _id - Unique ID for the product\n */\n\n\nconst Products = () => {\n  const { enqueueSnackbar} = useSnackbar();\n  const [productData,updateProduct]=useState([]);\n  const [isFetching,updateFecthed]=useState(false);\n  const [productNotFound,updateProductNotFound]=useState(false);\n  const [timerId,udpateTimerId]=useState(\"\");\n  const [userLoggedIn,updateUserLoggedIn]=useState(false);\n  const [cartData,updateCartData]=useState([]);\n  const [userCartItems,updateUserCartItems]=useState([]);\n  const [userToken,updateUserToken]=useState(\"\");\n\n  // TODO: CRIO_TASK_MODULE_PRODUCTS - Fetch products data and store it\n  /**\n   * Make API call to get the products list and store it to display the products\n   *\n   * @returns { Array.<Product> }\n   *      Array of objects with complete data on all available products\n   *\n   * API endpoint - \"GET /products\"\n   *\n   * Example for successful response from backend:\n   * HTTP 200\n   * [\n   *      {\n   *          \"name\": \"iPhone XR\",\n   *          \"category\": \"Phones\",\n   *          \"cost\": 100,\n   *          \"rating\": 4,\n   *          \"image\": \"https://i.imgur.com/lulqWzW.jpg\",\n   *          \"_id\": \"v4sLtEcMpzabRyfx\"\n   *      },\n   *      {\n   *          \"name\": \"Basketball\",\n   *          \"category\": \"Sports\",\n   *          \"cost\": 100,\n   *          \"rating\": 5,\n   *          \"image\": \"https://i.imgur.com/lulqWzW.jpg\",\n   *          \"_id\": \"upLK9JbQ4rMhTwt4\"\n   *      }\n   * ]\n   *\n   * Example for failed response from backend:\n   * HTTP 500\n   * {\n   *      \"success\": false,\n   *      \"message\": \"Something went wrong. Check the backend console for more details\"\n   * }\n   */\n  const performAPICall = async () => {\n    try{\n      updateFecthed(true)\n      let url=config.endpoint;\n     let product= await axios.get(`${url}/products`);\n     updateProduct(product.data);\n     updateFecthed(false);\n     return product.data;\n    }catch(e){\n      console.log(e.message)\n    }\n  \n  };\n\n  // TODO: CRIO_TASK_MODULE_PRODUCTS - Implement search logic\n  /**\n   * Definition for search handler\n   * This is the function that is called on adding new search keys\n   *\n   * @param {string} text\n   *    Text user types in the search bar. To filter the displayed products based on this text.\n   *\n   * @returns { Array.<Product> }\n   *      Array of objects with complete data on filtered set of products\n   *\n   * API endpoint - \"GET /products/search?value=<search-query>\"\n   *\n   */\n  const performSearch = async (text) => {\n    try{\n      // updateProductNotFound(false)\n      let url=config.endpoint;\n     let product= await axios.get(`${url}/products/search?value=${text}`).catch((e)=>{updateProductNotFound(true)})\n     \n     if(product.data){\n      updateProductNotFound(false);\n      updateProduct(product.data);\n     }\n    }catch(e){\n      console.log(e.message)\n    }\n  };\n\n  // TODO: CRIO_TASK_MODULE_PRODUCTS - Optimise API calls with debounce search implementation\n  /**\n   * Definition for debounce handler\n   * With debounce, this is the function to be called whenever the user types text in the searchbar field\n   *\n   * @param {{ target: { value: string } }} event\n   *    JS event object emitted from the search input field\n   *\n   * @param {NodeJS.Timeout} debounceTimeout\n   *    Timer id set for the previous debounce call\n   *\n   */\n  const debounceSearch = (event, debounceTimeout) => {\n    clearTimeout(debounceTimeout);\n    // wait for 500 ms and make a call\n    // 1st request\n    let timerId = setTimeout(() => performSearch(event), 500);\n    udpateTimerId(timerId);\n  };\n\n  useEffect( ()=>{\n    async function onLoad(){\n       const product=await performAPICall();\n      let user=localStorage.getItem('username');\n      if(user){\n        updateUserLoggedIn(true)\n      } \n      let token=localStorage.getItem('token');\n      if(token){\n        updateUserToken(token);\n        const cartItems=await fetchCart(token);\n        //console.log()\n        updateUserCartItems(cartItems);// Array of objects with productId and quantity of products in cart\n        const cartData=await generateCartItemsFrom(cartItems,product)\n        updateCartData(cartData);\n      }\n    }\n    onLoad();\n  },[])\n\n \n\n\n/**\n   * Perform the API call to fetch the user's cart and return the response\n   *\n   * @param {string} token - Authentication token returned on login\n   *\n   * @returns { Array.<{ productId: string, qty: number }> | null }\n   *    The response JSON object\n   *\n   * Example for successful response from backend:\n   * HTTP 200\n   * [\n   *      {\n   *          \"productId\": \"KCRwjF7lN97HnEaY\",\n   *          \"qty\": 3\n   *      },\n   *      {\n   *          \"productId\": \"BW0jAAeDJmlZCF8i\",\n   *          \"qty\": 1\n   *      }\n   * ]\n   *\n   * Example for failed response from backend:\n   * HTTP 401\n   * {\n   *      \"success\": false,\n   *      \"message\": \"Protected route, Oauth2 Bearer token not found\"\n   * }\n   */\n const fetchCart = async (token) => {\n  if (!token) return;\n\n  try {\n    // TODO: CRIO_TASK_MODULE_CART - Pass Bearer token inside \"Authorization\" header to get data from \"GET /cart\" API and return the response data\n   let url=config.endpoint+'/cart';\n   let cartDatas=await axios.get(url,{headers:{Authorization:`Bearer ${token}`}});\n   return cartDatas.data;\n\n  } catch (e) {\n    if (e.response && e.response.status === 400) {\n      enqueueSnackbar(e.response.data.message, { variant: \"error\" });\n    } else {\n      enqueueSnackbar(\n        \"Could not fetch cart details. Check that the backend is running, reachable and returns valid JSON.\",\n        {\n          variant: \"error\",\n        }\n      );\n    }\n    return null;\n  }\n};\n\n\n// TODO: CRIO_TASK_MODULE_CART - Return if a product already exists in the cart\n/**\n * Return if a product already is present in the cart\n *\n * @param { Array.<{ productId: String, quantity: Number }> } items\n *    Array of objects with productId and quantity of products in cart\n * @param { String } productId\n *    Id of a product to be checked\n *\n * @returns { Boolean }\n *    Whether a product of given \"productId\" exists in the \"items\" array\n *\n */\nconst isItemInCart = (items, productId) => {\n  // items is whole data array\n  for(let i=0;i<items.length;i++){\n    // console.log(items[i])\n      if(items[i]['_id']===productId){\n        enqueueSnackbar('Item already in cart. Use the cart sidebar to update quantity or remove item.',{variant:\"warning\"});\n        return true;\n      }\n  }\n  return false;\n};\n\n/**\n * Perform the API call to add or update items in the user's cart and update local cart data to display the latest cart\n *\n * @param {string} token\n *    Authentication token returned on login\n * @param { Array.<{ productId: String, quantity: Number }> } items\n *    Array of objects with productId and quantity of products in cart\n * @param { Array.<Product> } products\n *    Array of objects with complete data on all available products\n * @param {string} productId\n *    ID of the product that is to be added or updated in cart\n * @param {number} qty\n *    How many of the product should be in the cart\n * @param {boolean} options\n *    If this function was triggered from the product card's \"Add to Cart\" button\n *\n * Example for successful response from backend:\n * HTTP 200 - Updated list of cart items\n * [\n *      {\n *          \"productId\": \"KCRwjF7lN97HnEaY\",\n *          \"qty\": 3\n *      },\n *      {\n *          \"productId\": \"BW0jAAeDJmlZCF8i\",\n *          \"qty\": 1\n *      }\n * ]\n *\n * Example for failed response from backend:\n * HTTP 404 - On invalid productId\n * {\n *      \"success\": false,\n *      \"message\": \"Product doesn't exist\"\n * }\n */\nconst addToCart = async (token, items,products,productId,qty,options = { preventDuplicate: false }) => {\n\n      if(options.preventDuplicate===true){\n        try{\n            let url=config.endpoint+'/cart';\n            let res=await axios.post(url,{\"productId\":productId,\"qty\":qty},{headers:{Authorization:`Bearer ${token}`}});\n            const cartData=await generateCartItemsFrom(res.data,products)\n            updateCartData(cartData);\n\n        }catch(e){\n          console.log(e)\n        }\n      }\n      else {\n            // udpate only quantity\n            // items.qty++\n            let index;\n            for(let i=0;i<items.length;i++){\n              if(items[i]['productId']===productId){\n                index=i;\n              }\n            }\n            if(options.preventDuplicate==='handleAdd'){\n              items[index]['qty']++;\n            }\n            else{\n                items[index]['qty']--;\n            }\n            //  udpate ite4ms\n            let url=config.endpoint+'/cart';\n            let res=await axios.post(url,{\"productId\":productId,\"qty\":items[index][\"qty\"]},{headers:{Authorization:`Bearer ${token}`}});\n            const cartData=await generateCartItemsFrom(res.data,products)\n            updateCartData(cartData);\n      }\n};\n\n\nlet addItems=(e)=>{\n  if(!userLoggedIn){\n    enqueueSnackbar(\"Login to add an item to the Cart\",{variant:\"warning\"}) }\n  else {\n    let result=isItemInCart(cartData,e.target.value)\n    if(!result){\n      addToCart(userToken,userCartItems,productData,e.target.value,1,{preventDuplicate: true});\n    }else{\n      enqueueSnackbar('Item already in cart. Use the cart sidebar to update quantity or remove item.',{variant:\"warning\"});\n    }\n  }\n  \n  \n}\n\nconst onButtonClick=(id,handle)=>{\n  console.log(\"Button Click\")\n  console.log(id,handle)\n// token, items,products,productId,qty,options = { preventDuplicate: false }\n  addToCart(userToken,userCartItems,productData,id,null, { preventDuplicate: handle })\n};\n\n  return (\n    <div>\n      <Header  hasHiddenAuthButtons={false}>\n        {/* TODO: CRIO_TASK_MODULE_PRODUCTS - Display search bar in the header for Products page */}\n        <TextField\n        className=\"search-desktop\"\n        size=\"small\"\n        onChange={(e)=>{debounceSearch(e.target.value,timerId)}}\n        InputProps={{\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <Search color=\"primary\" />\n            </InputAdornment>\n          ),\n        }}\n        placeholder=\"Search for items/categories\"\n        name=\"search\"\n      />\n\n      </Header>\n\n      {/* Search view for mobiles */}\n      <TextField\n        className=\"search-mobile\"\n        size=\"small\"\n        fullWidth\n        onChange={(e)=>{debounceSearch(e.target.value,timerId)}}\n        InputProps={{\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <Search color=\"primary\" />\n            </InputAdornment>\n          ),\n        }}\n        placeholder=\"Search for items/categories\"\n        name=\"search\"\n      />\n\n       <Grid container justifyContent=\"center\" >\n         <Grid item className=\"product-grid\">\n           <Box className=\"hero\">\n             <p className=\"hero-heading\">\n               Indiaâ€™s <span className=\"hero-highlight\">FASTEST DELIVERY</span>{\" \"}\n               to your door step\n             </p>\n           </Box>\n         </Grid>\n       </Grid>\n\n      \n      {\n        isFetching?<div className={\"loading\"}>\n                      <CircularProgress />\n                      <h3>Loading Products</h3>\n                    </div>\n                  : !productNotFound?\n                  <>\n                  {\n                    !userLoggedIn?\n                    <Grid container >\n                    <Grid container spacing={{ xs: 2, md: 3 ,lg:1 }} >\n                      {productData.map((x)=>\n                         (<Grid item lg={3} md={6} sm={6} xs={6} mt={2} mb={2} key={x['_id']}  >\n                          <ProductCard product={x} handleAddToCart={(e)=>{addItems(e)}}/>\n                        </Grid>\n                        )\n                        )}\n                    </Grid>\n                  </Grid>:\n                        <Grid container  >\n                        <Grid container spacing={{ xs: 2, md: 3 ,lg:1 }} md={9} >\n                          {productData.map((x)=>\n                             (<Grid item lg={4} md={4} sm={6} xs={6} mt={2} mb={2} key={x['_id']}  >\n                              <ProductCard product={x} handleAddToCart={(e)=>{addItems(e)}}/>\n                            </Grid>\n                            )\n                            )}\n                        </Grid>\n                        <Grid md={3} sm={12} xs={12} sx={{backgroundColor:'#E9F5E1'}} >\n                           <Cart product={productData} items={cartData} handleQuantity={onButtonClick}  />\n                           {/* handleQuantity={onButtonClick} */}\n                        </Grid>\n                      </Grid>\n                  }\n                  </>\n                    :<div className={\"loading\"}>\n                    <SentimentDissatisfied/>\n                    <h3>No products found</h3>\n                  </div>          \n      }\n      <Footer />\n    </div>\n  );\n};\n\nexport default Products;"],"mappings":"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"},"metadata":{},"sourceType":"module"}